(()=>{"use strict";function e({title:e}){return{init(){document.title=e},sidebarOpened:!1,sidebarFixed:Alpine.$persist(!0).as("sidebar-fixed"),toggleSidebarFixed(){this.sidebarFixed=!this.sidebarFixed},toggleSidebar(){this.sidebarOpened=!this.sidebarOpened},showSidebar(){this.sidebarOpened=!0},hideSidebar(){this.sidebarOpened=!1},sidebarSearchFocus(){searchInput=document.getElementById("sidebar-search"),this.showSidebar(),searchInput?.focus(),searchInput?.select()},overlaySidebarOpened:!1,openOverlaySidebar(){this.overlaySidebarOpened=!0},closeOverlaySidebar(e){this.overlaySidebarOpened=!1},toggleOverlaySidebar(){this.overlaySidebarOpened=!this.overlaySidebarOpened},modalStatus:!1,showModal(){this.modalStatus=!this.modalStatus,this.$refs.modal.remove()},hideModal(){this.modalStatus=!1},fullWidthContainer:Alpine.$persist(!1).as("full-width-container"),toggleFullWidthContainer(){this.fullWidthContainer=!this.fullWidthContainer}}}function t(){return{isOpen:!1,openedWithKeyboard:!1,handleClose(){this.isOpen=!1,this.openedWithKeyboard=!1},toggleOpen(){this.isOpen=!this.isOpen},open(){this.isOpen=!0},openWithKeyboard(){this.openedWithKeyboard=!0}}}function i(){return{checkAll:!1,selectedItems:0,handleCheckAll(){const e=document.querySelectorAll("input[type=checkbox][id^=row-check-][checked]");this.selectedItems=e.length},handleCheck(e){e.checked?this.selectedItems++:this.selectedItems--}}}function s(){return{search:Alpine.$persist("").as("sidebar-search"),searchHandler(){[...document.querySelectorAll("a[id^='sidebar-link-']")].forEach((e=>{let t={href:e.href,text:e.innerText?.toLowerCase()};e.ariaHidden=!t.text.includes(this.search)&&!t.href.includes(this.search)}))}}}function a(){return{alertIsVisible:!0,hideAlert(){this.alertIsVisible=!1}}}function n(e){return{showLabel:!1,init(){let t=new URLSearchParams(location.search),i=e.dataset?.fields?.split(",");this.showLabel=i?.some((e=>t.get(e)))}}}function o(){return{dark:Alpine.$persist(!0).as("dark"),toggleDark(){this.dark=!this.dark}}}function l(e){return{timer:null,open:!0,close(){this.open=!1},init(){this.timer=setTimeout((()=>this.close()),+e)},destroy(){clearTimeout(this.timer)}}}function r(e={options:[],selectedText:""}){return{comboboxOpen:!1,checkAll:!1,name:"",optionsConcat:"",textsConcat:"",keywords:"",options:e.options,getTitle(){let t=this.options.filter((e=>e.selected)).length;return t?`${t} ${e.selectedText}`:`${e.selectedText} ${this.name}`},focusHandler(){this.$refs.comboBoxSearch?.focus()},escapeHandler(){this.comboboxOpen=!1,this.keywords="",this.options=this.options.map((e=>(e.show=!0,e))),this.options.sort(((e,t)=>t.selected-e.selected))},effectHandler(){this.textsConcat=this.options.filter((e=>e.selected)).map((e=>e.label)).join(", ")},checkAllHandler(){this.checkAll=!this.checkAll,this.options=this.options.map((e=>(e.selected=e.show&&this.checkAll,e)))},sortHandler(){this.comboboxOpen=!this.comboboxOpen,this.options.sort(((e,t)=>t.selected-e.selected))},searchHandler(e){const t=e.target.closest("div[data-combo]"),i=Alpine.$data(t).keywords;Alpine.$data(t).options=Alpine.$data(t).options.map((e=>{e.show=!1;let t=e.label+" "+e.label,s=new RegExp(i.split(" ").join(".+"),"g");return t.match(s)&&(e.show=!0),e}))},init(){this.name=this.$refs.comboBoxSearch.dataset.name;let e=this.$el.previousElementSibling.previousElementSibling.getAttribute("for");this.$refs.comboBoxSearch.setAttribute("id",e);let t=location.href.match(new RegExp(`(?<=${name}=)d+`));t=t&&t.map((e=>+e)),t&&(options=options.map((e=>(e.selected=t.includes(e.value),e))))}}}document.addEventListener("alpine:init",(()=>{Alpine.data("layout",e),Alpine.data("contextMenu",t),Alpine.data("tableCheckAll",i),Alpine.data("sidebarSearch",s),Alpine.data("alert",a),Alpine.data("badge",n),Alpine.data("theme",o),Alpine.data("messages",l),Alpine.data("combobox",r)}))})();